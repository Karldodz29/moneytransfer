<header class="navbar navbar-expand-md flex-column flex-sm-row header-container-wrapper pt-0 pb-0 pl-md-0 pr-md-0">
    <div class="container flex-column flex-sm-row" ng-controller="manageCustomerLoginController">
        <a class="navbar-brand" ui-sref='app.customerPortal'>
            <img src="images/logo.png" alt="Recharge phone"> <span>SENDINGLOOP</span></a>
        <ul class="navbar-nav navbar-user-panel d-flex flex-row justify-content-sm-end order-md-2">
            <li ng-if="IsLogin" class="nav-item" ng-click="logoutGustCustomer()"><a class="nav-link"><i class="fa fa-sign-out" aria-hidden="true"></i>&nbsp;Log out</a></li>
            <li class="nav-item d-sm-block d-md-none"><a class="nav-link" data-toggle="collapse" data-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation"><i class="fa fa-bars" aria-hidden="true"></i></a></li>
        </ul>
        <div class="collapse navbar-collapse justify-content-start justify-content-md-end order-md-1" id="navbarResponsive">
            <ul class="navbar-nav ">
                <li class="nav-item"><a class="nav-link" ui-sref='app.customerPortal'>Home</a></li>
                <li ng-if="IsLogin" class="nav-item"><a class="nav-link" ui-sref='app.transactionDetails'>Transactions </a></li>
            </ul>
        </div>
    </div>
</header>
<!--end header-->
<div class="body-container-wrapper">
    <div class="master-banner inner-page-banner d-flex align-items-end">
        <div class="container">
            <div class="row">
                <div class="col-sm-12 desaturated-blue">
                    <ul class="row custom-banner-breadcrumb">
                        <li class="col-md-4 {{localStorage.SelectedCountry.MobileNumber !=''?'active':''}}">Destination Number</li>
                        <li class="col-md-4 {{localStorage.Ammount !=''?'active':''}}" ui-sref='app.chooseAmount'>Choose Amount</li>
                        <li class="col-md-4">Payment</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
    <!--end master banner-->
    <section class="payment-amount-wrapper amount-wrap pt-5 pb-5" ng-controller="manageGustCustomerController">
        <div class="container">
            <div class="row">
                <div class="col-sm">
                    <form class="">
                        <div class="row">
                            <div class="col-md-6 form-group">
                                <div class="number-wrapper cm-input">
                                    <span class="flag-icon" style="background-image: url(./images/Flag/{{localStorage.SelectedCountry.countryCode}}.png);"><i class="fa fa-globe" aria-hidden="true" ng-if="localStorage.SelectedCountry.Result !='Success'"></i>
                                        <span class="flag"></span>
                                    </span>
                                    <span class="flag-code" ng-if="localStorage.SelectedCountry.Result =='Success'">+{{localStorage.SelectedCountry.internationalCodes}}</span>
                                    <input type="text" class="form-control" pattern="[0-9]*" maxlength="15" placeholder="Mobile Number" id="MobileNumber" ng-model="localStorage.SelectedCountry.MobileNumber" disabled required>
                                </div>
                            </div>
                            <div class="col-md-6 form-group">
                                <a class="background-white custom-payment-amount new-payment text-sm-center"><span>{{localStorage.Ammount}}</span>&nbsp;&nbsp; {{localStorage.SelectedCountry.currencyCode}}</a>
                            </div>
                        </div>
                        <div class="row mt-2">
                            <div class="col-sm-12">
                                <h6>Choose your payment method</h6>
                            </div>
                            <div class="col-sm-4" ng-repeat="PaymentMethod in PaymentMethods">
                                <label class="form-control-label">
                                    <input type="radio" name="methods" ng-model="PaybillModel.PaymentMethodId" value="{{PaymentMethod.PaymentMethodId}}" ng-change="selectedMethod(PaymentModel.PaymentMethodId)" required />
                                    {{PaymentMethod.Title}}</label>
                            </div>
                        </div>
                        <div class="row" id="showPaymentForm" ng-show="PaybillModel.PaymentMethodId>0">
                            <div class="col-md-6 form-group">
                                <input type="number" class="form-control cm-input" id="CardNumber" placeholder="Card Number" ng-model="PaybillModel.CardNumber" onkeypress="if(this.value.length==16) return false;" required>
                            </div>
                            <div class="col-md-6 form-group">
                                <div class="row">
                                    <div class="col-sm-4 mb-3 mb-sm-1">
                                        <input type="number" class="form-control cm-input" id="Expiremonth" placeholder="mm" min="1" max="12" ng-model="ExpireModel.ExpireMonth" onkeypress="if(this.value.length==2) return false;" required>
                                    </div>
                                    <div class="col-sm-4 mb-3 mb-sm-1">
                                        <input type="number" class="form-control cm-input" id="Year" placeholder="yy" ng-model="ExpireModel.ExpireYear" onkeypress="if(this.value.length==2) return false;" required>
                                    </div>
                                    <div class="col-sm-4">
                                        <input type="number" class="form-control cm-input" id="cvv" placeholder="CVV" ng-model="PaybillModel.cvv" onkeypress="if(this.value.length==3) return false;" required>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="row mt-3">
                            <div class="col col-sm-6 text-right">
                                <button type="submit" class="btn cm-btn-control danger" ng-click="cancel()">Reset</button>
                            </div>
                            <div class="col col-sm-6 text-left">
                                <button type="submit" class="btn cm-btn-control" ng-disabled="!PaybillModel.CardNumber || !ExpireModel.ExpireMonth || !ExpireModel.ExpireYear||!PaybillModel.cvv"
                                    ng-click="Paynow()">
                                    Pay Now</button>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </div>

        <!--Confirmation model-->
        <div class="modal fade " tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel" id="Payconfirm">
            <div class="modal-dialog modal-lg" role="document">
                <div class="modal-content">
                    <div class="modal-header text-success">
                        <h4 class="modal-title ">!Confirmation  </h4>
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                    </div>
                    <div class="modal-body">
                        <h6 class="modal-title">Are you sure to proceed to pay this 'Bill'? </h6>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-success" ng-click="Create()">Yes</button>
                        <button type="button" class="btn btn-primary" data-dismiss="modal">No</button>
                    </div>
                </div>
            </div>
        </div>
        <div class="modal fade " tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel" id="ThankyouPaybill">
            <div class="modal-dialog modal-lg" role="document">
                <div class="modal-content">
                    <div class="modal-header text-danger">
                        <h4 class="col-md-offset-2 modal-title ">Thank You for your payment  </h4>
                    </div>
                    <div class="modal-body p-a-0">
                        <div class="container-fluid">
                            <div class="row">
                                <div class="col-md-offset-2 col-sm-8">
                                    <table class="table">
                                        <tbody>
                                            <tr>
                                                <td class="col-md-offset-2 modal-title ">Payment Details  </td>
                                            </tr>
                                            <tr class="active bold">
                                                <td>Transaction Id:</td>
                                                <td>{{PayDetails.InvoiceNumber}}</td>
                                            </tr>
                                            <tr class="active bold">
                                                <td>Mobile Number:</td>
                                                <td>{{PayDetails.MobileNumber}}</td>
                                            </tr>
                                            <tr>
                                                <td class="bold"><b>Sender Name:</b></td>
                                                <td class="bold"><b>{{PayDetails.SenderName}}</b></td>
                                            </tr>
                                            <tr>
                                                <td>Bill Amount:</td>
                                                <td>$&nbsp;{{PayDetails.FaceAmount | number:2}}</td>
                                            </tr>
                                            <tr>
                                                <td>Fee:</td>
                                                <td>$&nbsp;{{PayDetails.InvoiceAmount - PayDetails.FaceAmount | number:2}}</td>
                                            </tr>
                                            <tr>
                                                <td>Total:</td>
                                                <td>$&nbsp;{{PayDetails.InvoiceAmount | number:2}}</td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
</div>
<footer class="footer-container-wrapper pt-4 pb-2">
    <div class="container">
        <div class="row">
            <div class="col-sm-12">
                <p>Copyright 2017 © Money Transfer. All Rights Reserved.</p>
            </div>
        </div>
    </div>
</footer>
